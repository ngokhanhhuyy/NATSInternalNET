function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/CustomerListPagination-Cwjq4Tf9.js","assets/paginationUtility-BABYvqBV.js","assets/index-t81Ut7qy.js","assets/index-DTuIwUSz.css","assets/CustomerListPagination-Be0FLpqn.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as S,P as V,y as C,z as D,a as n,c as a,b as e,A as l,D as u,l as A,w,v as N,u as s,n as P,k as T,e as h,F as j,f as M,T as R,j as q,t as x,s as z,x as E,H as F,J as K,_ as U}from"./index-t81Ut7qy.js";import{u as H,C as J}from"./customerModels-InZJBT3b.js";import{u as O}from"./viewStatesComposable-B_gfPsac.js";const c=r=>(z("data-v-e0483327"),r=r(),E(),r),X={class:"container-fluid customer-page-layout d-flex flex-column mb-5"},G={class:"row g-3"},Q={class:"col col-12 my-3"},W={class:"block block-search bg-white rounded-3"},Y={class:"block-header bg-primary-subtle rounded-top-3 border border-primary-subtle ps-3 p-2 d-flex flex-row justify-content-between align-items-center"},Z=c(()=>e("span",{class:"text-primary fw-bold small"},"TÌM KIẾM",-1)),$=c(()=>e("i",{class:"bi bi-plus-lg me-1"},null,-1)),ee={class:"block-body border border-top-0 w-100 p-3 rounded-bottom-3"},te={class:"input-group"},se={class:"text-danger small"},oe={key:0,class:"col col-12 d-flex flex-row justify-content-center mb-3"},ne={class:"col col-12 mb-3"},ae={class:"block block-customer-list bg-white p-0 h-100 d-flex flex-column overflow-hidden rounded-3 border overflow-hidden"},ie={key:0,class:"block-body w-100 flex-fill d-flex justify-content-center align-items-center"},le={key:0,class:"list-group list-group-flush w-100"},ce=["src"],re={class:"d-flex flex-column flex-fill ps-3 justify-content-center"},de={class:"fw-bold"},ue={class:"small"},pe=c(()=>e("i",{class:"bi bi-eye"},null,-1)),me=c(()=>e("span",{class:"d-sm-inline d-none ms-1"},"Xem",-1)),_e=c(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),he=c(()=>e("span",{class:"d-sm-inline d-none ms-1"},"Sửa",-1)),ge={key:1,class:"opacity-50 my-4"},fe={key:1,class:"col col-12 d-flex flex-row justify-content-center"},ye=S({__name:"CustomerListView",async setup(r){let d,g;const f=F(()=>K(()=>import("./CustomerListPagination-Cwjq4Tf9.js"),__vite__mapDeps([0,1,2,3,4]))),y=H(),t=([d,g]=V(()=>B()),d=await d,g(),d),{loadingState:p}=O(),k=C(()=>t.searchByContent.length>0&&t.searchByContent.length<3),L=C(()=>t.searchByContent.length>0&&t.searchByContent.length<3?"is-invalid":null);async function B(){const i=await y.getListAsync();return q(new J(i))}async function m(){p.isLoading=!0;const i=await y.getListAsync(t.toRequestDto());t.mapFromResponseDto(i),p.isLoading=!1}async function I(){t.page=1,t.searchByContent.length>3&&await m()}async function b(i){t.page=i,await m()}return(i,v)=>{const _=D("RouterLink");return n(),a("div",X,[e("div",G,[e("div",Q,[e("div",W,[e("div",Y,[Z,l(_,{to:{name:"customerCreate"},class:"btn btn-primary btn-sm"},{default:u(()=>[$,A(" Tạo khách hàng ")]),_:1})]),e("div",ee,[e("div",te,[w(e("input",{class:P(["form-control",L.value]),type:"text",placeholder:"Họ và tên, thông tin liên lạc ...","onUpdate:modelValue":v[0]||(v[0]=o=>s(t).searchByContent=o),onInput:I,"onKeypress:enter":m},null,34),[[N,s(t).searchByContent]])]),w(e("span",se," Nội dung tìm kiếm phải chứa ít nhất 3 ký tự ",512),[[T,k.value]])])])]),s(t).pageCount>1?(n(),a("div",oe,[l(s(f),{page:s(t).page,"page-count":s(t).pageCount,onPageClick:b},null,8,["page","page-count"])])):h("",!0),e("div",ne,[e("div",ae,[l(R,{name:"fade",mode:"out-in"},{default:u(()=>[s(p).isLoading?h("",!0):(n(),a("div",ie,[s(t).results.length?(n(),a("ul",le,[(n(!0),a(j,null,M(s(t).results,o=>(n(),a("li",{class:"list-group-item d-flex px-3 py-2 align-items-center",key:o.id},[e("img",{class:"img-thumbnail rounded-circle",src:o.avatarUrl},null,8,ce),e("div",re,[e("span",de,x(o.fullName),1),e("span",ue,x(o.nickName),1)]),l(_,{to:{name:"customerDetail",params:{customerId:o.id}},class:"btn btn-outline-primary btn-sm me-2"},{default:u(()=>[pe,me]),_:2},1032,["to"]),l(_,{to:{name:"customerUpdate",params:{customerId:o.id}},class:"btn btn-outline-primary btn-sm"},{default:u(()=>[_e,he]),_:2},1032,["to"])]))),128))])):(n(),a("div",ge," Không tìm thấy kết quả "))]))]),_:1})])]),s(t).pageCount>1?(n(),a("div",fe,[l(s(f),{page:s(t).page,"page-count":s(t).pageCount,onPageClick:b},null,8,["page","page-count"])])):h("",!0)])])}}}),we=U(ye,[["__scopeId","data-v-e0483327"]]);export{we as default};
