function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/UserPersonalInfoUpsert-CSSYpOYK.js","assets/index-t81Ut7qy.js","assets/index-DTuIwUSz.css","assets/UserPersonalInfoUpsert-CMF6Gn8z.css","assets/UserUserInfoUpsert-CfAFGHLv.js","assets/SubmitButton-CwkjXi-D.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as D,L,P,j as d,$ as O,a as i,c as u,b as l,A as v,u as o,E as g,e as m,p as x,q as z,W as B,a1 as C,H as p,J as _}from"./index-t81Ut7qy.js";import{u as j}from"./authorizationService-fQUsvDoM.js";import{u as M}from"./upsertViewStatesComposable-CCB0pErc.js";import"./viewStatesComposable-B_gfPsac.js";const N={class:"container-fluid d-flex flex-column justify-content-center"},T={class:"row g-3"},q={class:"col col-12 my-3"},H={key:0,class:"block bg-white rounded-3"},J={class:"row g-3 justify-content-end"},W={key:0,class:"col col-auto"},Y=D({__name:"UserUpdateView",async setup($){let r,f;const I=p(()=>_(()=>import("./UserPersonalInfoUpsert-CSSYpOYK.js"),__vite__mapDeps([0,1,2,3]))),y=p(()=>_(()=>import("./UserUserInfoUpsert-CfAFGHLv.js"),__vite__mapDeps([4,1,2]))),E=p(()=>_(()=>import("./SubmitButton-CwkjXi-D.js"),__vite__mapDeps([5,1,2]))),w=x(),A=z(),c=L(),U=j(),[e,V]=([r,f]=P(()=>R()),r=await r,f(),r),a=d(S());M();async function R(){const s=parseInt(w.params.userId),[t,n]=await Promise.all([c.getUserDetailAsync(s),c.getRoleListAsync()]),k=d(new B(n));return[d(new C(t)),k]}function S(){const s=U.canEditUser(e.id,e.userInformation.role.powerLevel);if(!s)throw new O;return{canEditUser:s,canEditUserUserInformation:U.canEditUser(e.id,e.userInformation.role.powerLevel)}}async function h(){await c.updateUserAsync(e.id,e.toRequestDto())}async function b(){await A.push({name:"userProfile",params:{userId:e.id}})}return(s,t)=>(i(),u("div",N,[l("div",T,[l("div",q,[a.canEditUser?(i(),u("div",H,[v(o(I),{modelValue:o(e).personalInformation,"onUpdate:modelValue":t[0]||(t[0]=n=>o(e).personalInformation=n),"rounded-top":!0,"rounded-bottom":!a.canEditUserUserInformation},null,8,["modelValue","rounded-bottom"]),a.canEditUserUserInformation?(i(),g(o(y),{key:0,modelValue:o(e).userInformation,"onUpdate:modelValue":t[1]||(t[1]=n=>o(e).userInformation=n),"role-options":o(V)},null,8,["modelValue","role-options"])):m("",!0)])):m("",!0)])]),l("div",J,[a.canEditUser?(i(),u("div",W,[v(o(E),{callback:h,onSubmissionSuceeded:b})])):m("",!0)])]))}});export{Y as default};
