function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ValidationMessage-Bb04LYJD.js","assets/index-t81Ut7qy.js","assets/index-DTuIwUSz.css","assets/SubmitButton-CwkjXi-D.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as k,L as x,P as A,a as R,c as S,b as s,w as m,v as p,u as o,n as _,A as c,p as V,q as M,$ as I,j as C,a3 as E,H as w,J as b}from"./index-t81Ut7qy.js";import{u as z}from"./authorizationService-fQUsvDoM.js";import{u as D}from"./upsertViewStatesComposable-CCB0pErc.js";import"./viewStatesComposable-B_gfPsac.js";const L={class:"container-fluid d-flex flex-column justify-content-center"},T={class:"row g-3 justify-content-end"},q={class:"col col-12 my-3"},B={class:"block bg-white rounded-3"},j=s("div",{class:"block-header bg-primary-subtle border border-primary-subtle rounded-top-3 px-3 py-2"},[s("span",{class:"text-primary small fw-bold"},"ĐẶT LẠI MẬT KHẨU")],-1),H={class:"block-body block-body-account-information border border-top-0 rounded-bottom-3 border-default gx-3 p-2 pb-3 row"},N={class:"col col-sm-6 col-12 mb-sm-0 mb-3"},O={class:"form-group"},J=s("label",{class:"form-label small fw-bold required"},"Mật khẩu mới",-1),K={class:"col col-sm-6 col-12 mb-sm-0 mb-3"},X={class:"form-group"},$=s("label",{class:"form-label small fw-bold required"},"Xác nhận mật khẩu",-1),F={class:"col col-lg-3 col-md-3 col-sm-4 col-6 mb-5"},ss=k({__name:"UserPasswordResetView",async setup(G){let r,i;const l=w(()=>b(()=>import("./ValidationMessage-Bb04LYJD.js"),__vite__mapDeps([0,1,2]))),f=w(()=>b(()=>import("./SubmitButton-CwkjXi-D.js"),__vite__mapDeps([3,1,2]))),h=V(),v=M(),d=x(),y=z(),e=([r,i]=A(()=>P()),r=await r,i(),r),{modelState:u}=D();async function P(){const a=parseInt(h.params.userId),t=await d.getUserRoleAsync(a);if(!y.canResetUserPassword(a,t.powerLevel))throw new I;return C(new E(a))}async function U(){await d.resetUserPasswordAsync(e.id,e.toRequestDto())}async function g(){await v.push({name:"userProfile",params:{userId:e.id}})}return(a,t)=>(R(),S("div",L,[s("div",T,[s("div",q,[s("div",B,[j,s("div",H,[s("div",N,[s("div",O,[J,m(s("input",{type:"password",class:_(["form-control",o(u).inputClass("newPassword")]),placeholder:"Mật khẩu",maxlength:"20","onUpdate:modelValue":t[0]||(t[0]=n=>o(e).newPassword=n)},null,2),[[p,o(e).newPassword]]),c(o(l),{"property-path":"newPassword"})])]),s("div",K,[s("div",X,[$,m(s("input",{type:"password",class:_(["form-control",o(u).inputClass("confirmationPassword")]),placeholder:"Mật khẩu",maxlength:"20","onUpdate:modelValue":t[1]||(t[1]=n=>o(e).confirmationPassword=n)},null,2),[[p,o(e).confirmationPassword]]),c(o(l),{"property-path":"confirmationPassword"})])])])])]),s("div",F,[c(o(f),{callback:U,onSubmissionSuceeded:g})])])]))}});export{ss as default};
