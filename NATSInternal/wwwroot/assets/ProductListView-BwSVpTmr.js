function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ProductCategoryListComponent-DCtHXhEi.js","assets/productCategoryService-CyyC5sMy.js","assets/index-t81Ut7qy.js","assets/index-DTuIwUSz.css","assets/productCategoryModels-D-oOaeWZ.js","assets/viewStatesComposable-B_gfPsac.js","assets/BrandListComponent-CjgEHe2Z.js","assets/brandService-B1FEqljV.js","assets/brandModels-D-3gM8Vf.js","assets/BrandListComponent-Dmm4UV9N.css","assets/MainPaginatorComponent-ByxFvh7C.js","assets/paginationUtility-BABYvqBV.js","assets/MainPaginatorComponent-tAxQd-_k.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as Q,P as $,Q as N,z as G,a as i,c,b as e,A as f,D as A,l as W,u as o,w as V,R as B,F as w,f as x,e as _,E as T,T as X,p as Y,q as Z,j as k,t as y,s as ee,x as te,H as L,J as C,_ as se}from"./index-t81Ut7qy.js";import{u as oe,P as ne}from"./productService-DBSG3mvx.js";import{P as ie}from"./productCategoryModels-D-oOaeWZ.js";import{B as ce}from"./brandModels-D-3gM8Vf.js";import{u as ae}from"./productCategoryService-CyyC5sMy.js";import{u as le}from"./brandService-B1FEqljV.js";import{u as de}from"./viewStatesComposable-B_gfPsac.js";const d=p=>(ee("data-v-aca47987"),p=p(),te(),p),re={class:"container-fluid d-flex flex-column mb-5"},ue={class:"row g-0 p-0"},me={class:"col col-lg-8 col-md-7 col-sm-12 col-12 p-0"},_e={class:"row g-3 justify-content-end my-3"},pe={class:"col col-12"},ge={class:"block bg-white rounded-3"},he={class:"block-header bg-primary-subtle border border-primary-subtle rounded-top-3 ps-3 p-2 d-flex flex-row justify-content-between align-items-center"},fe=d(()=>e("span",{class:"text-primary fw-bold small"},"SẢN PHẨM",-1)),ye=d(()=>e("i",{class:"bi bi-plus-lg"},null,-1)),be={class:"block-body border border-top-0 rounded-bottom-3 p-2 row"},ve={class:"col col-md-6 col-sm-12 col-12 mb-2"},we=d(()=>e("label",{class:"fw-bold small"},"Phân loại",-1)),xe=d(()=>e("option",{value:null},"Tất cả phân loại",-1)),ke=["value"],Le={class:"col col-md-6 col-sm-12 col-12 mb-2"},Ce=d(()=>e("label",{class:"fw-bold small"},"Thương hiệu",-1)),Pe=d(()=>e("option",{value:null},"Tất cả thương hiệu",-1)),Ie=["value"],De={class:"row g-3 mb-3"},Re={class:"col col-12 d-flex flex-row justify-content-center"},Se={class:"row g-3"},Ne={class:"col col-12 mb-3"},Ae={class:"block block-product rounded-3"},Ve={key:0,class:"border rounded-3 bg-white overflow-hidden"},Be={key:0,class:"list-group list-group-flush"},Te=["src"],Oe={class:"px-3 d-flex flex-column flex-fill justify-content-center align-items-start additional-info"},je={class:"fw-bold"},Ee={class:"bg-success-subtle text-success small px-2 rounded"},qe=["onClick"],Me=d(()=>e("i",{class:"bi bi-eye"},null,-1)),Fe=d(()=>e("span",{class:"d-md-inline d-sm-none d-none ms-1"},"Chi tiết",-1)),Ue=[Me,Fe],He={key:1,class:"list-group list-group-flush"},ze=d(()=>e("li",{class:"list-group-item d-flex flex-row justify-content-center align-items-center opacity-50 p-3"}," Không tìm thấy sản phẩm ",-1)),Je=[ze],Ke={class:"row g-3"},Qe={class:"col col-12 d-flex flex-row justify-content-center"},$e={class:"col col-lg-4 col-md-5 col-sm-12 col-12 p-0"},Ge={class:"row g-3 mb-3"},We={class:"col col-md-12 col-sm-6 col-12"},Xe={class:"col col-md-12 col-sm-6 col-12"},Ye=Q({__name:"ProductListView",async setup(p){let g,P;const O=L(()=>C(()=>import("./ProductCategoryListComponent-DCtHXhEi.js"),__vite__mapDeps([0,1,2,3,4,5]))),j=L(()=>C(()=>import("./BrandListComponent-CjgEHe2Z.js"),__vite__mapDeps([6,2,3,7,8,5,9]))),I=L(()=>C(()=>import("./MainPaginatorComponent-ByxFvh7C.js"),__vite__mapDeps([10,11,2,3,12]))),b=Y(),D=Z(),R=oe(),E=ae(),q=le(),[t,r,m]=([g,P]=$(()=>M()),g=await g,P(),g),{loadingState:h}=de();N(()=>t.categoryName,async()=>await v()),N(()=>t.brandId,async()=>await v());async function M(){const n=b.query.categoryName,a=b.query.brandId?parseInt(b.query.brandId):void 0,l=k(new ne(n,a)),[s,u,z]=await Promise.all([R.getListAsync(l.toRequestDto()),E.getListAsync(),q.getListAsync()]);l.mapFromResponseDto(s);const J=k(new ie(u)),K=k(new ce(z));return[l,J,K]}async function v(){D.replace({name:"productList",query:{categoryName:t.categoryName||void 0,brandId:t.brandId||void 0,page:t.page||void 0}}),h.isLoading=!0;const n=await R.getListAsync(t.toRequestDto());t.mapFromResponseDto(n),h.isLoading=!1}async function F(n){h.isLoading=!0,await D.push({name:"productDetail",params:{productId:n.id}})}function U(n){var s;t.categoryName===((s=r.items.find(u=>u.id===n))==null?void 0:s.name)&&(t.categoryName=null);const a=r.items.find(u=>u.id===n),l=r.items.indexOf(a);r.items.splice(l,1)}function H(n){t.brandId===n&&(t.brandId=null);const a=m.items.find(s=>s.id===n),l=m.items.indexOf(a);m.items.splice(l,1)}async function S(n){t.page=n,await v()}return(n,a)=>{const l=G("RouterLink");return i(),c("div",re,[e("div",ue,[e("div",me,[e("div",_e,[e("div",pe,[e("div",ge,[e("div",he,[fe,f(l,{to:{name:"productCreate"},class:"btn btn-primary btn-sm"},{default:A(()=>[ye,W(" Tạo sản phẩm ")]),_:1})]),e("div",be,[e("div",ve,[we,o(r).items?V((i(),c("select",{key:0,class:"form-select","onUpdate:modelValue":a[0]||(a[0]=s=>o(t).categoryName=s)},[xe,(i(!0),c(w,null,x(o(r).items,s=>(i(),c("option",{value:s.name,key:s.id},y(s.name),9,ke))),128))],512)),[[B,o(t).categoryName]]):_("",!0)]),e("div",Le,[Ce,o(m).items?V((i(),c("select",{key:0,class:"form-select","onUpdate:modelValue":a[1]||(a[1]=s=>o(t).brandId=s)},[Pe,(i(!0),c(w,null,x(o(m).items,s=>(i(),c("option",{value:s.id,key:s.id},y(s.name),9,Ie))),128))],512)),[[B,o(t).brandId]]):_("",!0)])])])])]),e("div",De,[e("div",Re,[o(t).pageCount>1?(i(),T(o(I),{key:0,page:o(t).page,"page-count":o(t).pageCount,onPageClick:S},null,8,["page","page-count"])):_("",!0)])]),e("div",Se,[e("div",Ne,[e("div",Ae,[f(X,{name:"fade",mode:"out-in"},{default:A(()=>[o(h).isLoading?_("",!0):(i(),c("div",Ve,[o(t).items.length?(i(),c("ul",Be,[(i(!0),c(w,null,x(o(t).items,s=>(i(),c("li",{class:"list-group-item d-flex flex-row justify-content-start align-items-center px-3 py-2",key:s.id},[e("img",{class:"img-thumbnail",src:s.thumbnailUrl},null,8,Te),e("div",Oe,[e("span",je,y(s.name),1),e("span",Ee,y(s.price.toLocaleString().replace(","," "))+"đ ",1)]),e("button",{class:"btn btn-outline-primary btn-sm m-2 flex-shrink-0",onClick:u=>F(s)},Ue,8,qe)]))),128))])):(i(),c("ul",He,Je))]))]),_:1})])])]),e("div",Ke,[e("div",Qe,[o(t).pageCount>1?(i(),T(o(I),{key:0,page:o(t).page,"page-count":o(t).pageCount,onPageClick:S},null,8,["page","page-count"])):_("",!0)])])]),e("div",$e,[e("div",Ge,[e("div",We,[f(o(O),{onDeleted:U})]),e("div",Xe,[f(o(j),{onDeleted:H})])])])])])}}}),ct=se(Ye,[["__scopeId","data-v-aca47987"]]);export{ct as default};
