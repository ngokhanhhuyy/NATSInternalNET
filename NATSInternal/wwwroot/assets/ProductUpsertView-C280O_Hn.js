function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ImageInputComponent-DM0K3pEb.js","assets/index-t81Ut7qy.js","assets/index-DTuIwUSz.css","assets/ImageInputComponent-BtJR7GAz.css","assets/ValidationMessage-Bb04LYJD.js","assets/SubmitButton-CwkjXi-D.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as G,P as J,a as p,c as u,b as o,A as i,u as t,w as m,v as g,n as d,R as v,F as A,f as V,e as K,p as Q,q as W,j as b,t as F,s as X,x as Y,H as y,J as C,_ as Z}from"./index-t81Ut7qy.js";import{u as $,b as P}from"./productService-DBSG3mvx.js";import{u as oo}from"./productCategoryService-CyyC5sMy.js";import{u as to}from"./brandService-B1FEqljV.js";import{P as so}from"./productCategoryModels-D-oOaeWZ.js";import{B as eo}from"./brandModels-D-3gM8Vf.js";import{u as no}from"./upsertViewStatesComposable-CCB0pErc.js";import"./viewStatesComposable-B_gfPsac.js";const l=_=>(X("data-v-2e9e46b5"),_=_(),Y(),_),lo={class:"container-fluid d-flex flex-column mb-5"},ao={class:"row g-3 my-3 justify-content-end"},io={class:"col col-12 mb-3"},co={class:"block bg-white rounded-3"},ro={class:"block-header bg-primary-subtle border border-primary-subtle rounded-top-3 p-2 ps-3"},po={key:0,class:"text-primary small fw-bold"},uo={key:1,class:"text-primary small fw-bold"},mo={class:"block-body border border-top-0 rounded-bottom-3 d-flex flex-column p-2"},_o={class:"row justify-content-center"},ho={class:"col col-md-auto col-sm-12 col-12 pt-3 pb-3 d-flex align-items-start justify-content-center"},vo={class:"col ps-md-2 pe-0"},bo={class:"row"},fo={class:"col col-md-7 col-sm-12 col-12 mb-3"},go={class:"form-group"},yo=l(()=>o("label",{class:"form-label"},"Tên sản phẩm",-1)),Co={class:"col col-md-5 col-sm-12 col-12 mb-3"},wo={class:"form-group"},So=l(()=>o("label",{class:"form-label"},"Đơn vị",-1)),xo={class:"col col-md-6 col-sm-12 col-12 mb-3"},Ao={class:"form-group"},Vo=l(()=>o("label",{class:"form-label"},"Giá niêm yết",-1)),Fo={class:"input-group"},Po=["value"],Do=l(()=>o("span",{class:"input-group-text border-start-0"},"đ",-1)),Io={class:"col col-md-6 col-sm-12 col-12 mb-3"},Mo={class:"form-group"},Oo=l(()=>o("label",{class:"form-label"},"Thuế VAT",-1)),Ro={class:"input-group"},To=["value"],Uo=l(()=>o("span",{class:"input-group-text border-start-0"},"%",-1)),ko={class:"col col-lg-6 col-md-12 col-sm-12 col-12 mb-3"},Bo={class:"form-group"},Lo=l(()=>o("label",{class:"form-label"},"Mục đích sử dụng",-1)),Eo=l(()=>o("option",{value:!1},"Chỉ liệu trình",-1)),Ho=l(()=>o("option",{value:!0},"Cả liệu trình và bán lẻ",-1)),No=[Eo,Ho],jo={class:"col col-lg-6 col-md-12 col-sm-12 col-12 mb-3"},qo={class:"form-group"},zo=l(()=>o("label",{class:"form-label"},"Tình trạng",-1)),Go=l(()=>o("option",{value:!1},"Có thể nhập hàng",-1)),Jo=l(()=>o("option",{value:!0},"Đã ngưng nhập hàng",-1)),Ko=[Go,Jo],Qo={class:"col col-lg-6 col-md-12 col-sm-12 col-12 mb-3"},Wo={class:"form-group"},Xo=l(()=>o("label",{class:"form-label"},"Phân loại",-1)),Yo=l(()=>o("option",{value:null},"Chưa chọn phân loại",-1)),Zo=["value"],$o={class:"col col-lg-6 col-md-12 col-sm-12 col-12 mb-3"},ot={class:"form-group"},tt=l(()=>o("label",{class:"form-label"},"Thương hiệu",-1)),st=l(()=>o("option",{value:null},"Chưa chọn thương hiệu",-1)),et=["value"],nt={class:"row"},lt={class:"col col-12 mb-2 pb-1"},at={class:"form-group"},it=l(()=>o("label",{class:"form-label"},"Mô tả",-1)),ct={class:"col col-lg-3 col-md-4 col-sm-5 col-6"},rt=G({__name:"ProductUpsertView",props:{isForCreating:{type:Boolean}},async setup(_){let h,w;const D=y(()=>C(()=>import("./ImageInputComponent-DM0K3pEb.js"),__vite__mapDeps([0,1,2,3]))),r=y(()=>C(()=>import("./ValidationMessage-Bb04LYJD.js"),__vite__mapDeps([4,1,2]))),I=y(()=>C(()=>import("./SubmitButton-CwkjXi-D.js"),__vite__mapDeps([5,1,2]))),S=_,M=Q(),O=W(),f=$(),R=oo(),T=to(),{model:s,categoryOptions:x,brandOptions:U}=([h,w]=J(()=>k()),h=await h,w(),h),{modelState:c}=no();async function k(){const[a,e,n]=await Promise.all([B(),E(),L()]);return{model:a,brandOptions:e,categoryOptions:n}}async function B(){if(S.isForCreating)return b(new P);{const a=parseInt(M.params.productId),e=await f.getDetailAsync(a);return b(new P(e))}}async function L(){const a=await R.getListAsync();return b(new so(a))}async function E(){const a=await T.getListAsync();return b(new eo(a))}async function H(){S.isForCreating?s.id=await f.createAsync(s.toRequestDto()):await f.updateAsync(s.id,s.toRequestDto())}async function N(){await O.push({name:"productDetail",params:{productId:s.id}})}function j(a){s.thumbnailFile=a,s.thumbnailChanged=!0}function q(a){const e=a.target.value;e?s.price=parseInt(e):s.price=0}function z(a){const e=a.target.value;e?s.vatFactor=parseInt(e)/100:s.vatFactor=0}return(a,e)=>(p(),u("div",lo,[o("div",ao,[o("div",io,[o("div",co,[o("div",ro,[a.isForCreating?(p(),u("span",po," TẠO SẢN PHẨM MỚI ")):(p(),u("span",uo," CHỈNH SỬA SẢN PHẨM "))]),o("div",mo,[o("div",_o,[o("div",ho,[i(t(D),{"default-src":"/images/default.jpg",url:t(s).thumbnailUrl,onChange:j},null,8,["url"])]),o("div",vo,[o("div",bo,[o("div",fo,[o("div",go,[yo,m(o("input",{type:"text",class:d(["form-control",t(c).inputClass("name")]),placeholder:"Tên sản phẩm",maxlength:"50","onUpdate:modelValue":e[0]||(e[0]=n=>t(s).name=n)},null,2),[[g,t(s).name]])]),i(t(r),{"property-path":"name"})]),o("div",Co,[o("div",wo,[So,m(o("input",{type:"text",class:d(["form-control",t(c).inputClass("unit")]),placeholder:"Hộp, chai, ...",maxlength:"12","onUpdate:modelValue":e[1]||(e[1]=n=>t(s).unit=n)},null,2),[[g,t(s).unit]]),i(t(r),{"property-path":"unit"})])]),o("div",xo,[o("div",Ao,[Vo,o("div",Fo,[o("input",{type:"number",class:d(["form-control",t(c).inputClass("price")]),placeholder:"123 000",min:"0",value:t(s).price,onChange:q},null,42,Po),Do]),i(t(r),{"property-path":"price"})])]),o("div",Io,[o("div",Mo,[Oo,o("div",Ro,[o("input",{type:"number",class:d(["form-control",t(c).inputClass("vatFactor")]),placeholder:"10",min:"0",value:t(s).vatFactor*100,onChange:z},null,42,To),Uo]),i(t(r),{"property-path":"vatFactor"})])]),o("div",ko,[o("div",Bo,[Lo,m(o("select",{class:d(["form-select",t(c).inputClass("isForRetail")]),"onUpdate:modelValue":e[2]||(e[2]=n=>t(s).isForRetail=n)},No,2),[[v,t(s).isForRetail]]),i(t(r),{"property-path":"isForRetail"})])]),o("div",jo,[o("div",qo,[zo,m(o("select",{class:d(["form-select",t(c).inputClass("isDiscontinued")]),"onUpdate:modelValue":e[3]||(e[3]=n=>t(s).isDiscontinued=n)},Ko,2),[[v,t(s).isDiscontinued]]),i(t(r),{"property-path":"isDiscontinued"})])]),o("div",Qo,[o("div",Wo,[Xo,t(x).items.length?m((p(),u("select",{key:0,class:d(["form-select",t(c).inputClass("category")]),"onUpdate:modelValue":e[4]||(e[4]=n=>t(s).category=n)},[Yo,(p(!0),u(A,null,V(t(x).items,n=>(p(),u("option",{value:n,key:n.id},F(n.name),9,Zo))),128))],2)),[[v,t(s).category]]):K("",!0),i(t(r),{"property-path":"category"})])]),o("div",$o,[o("div",ot,[tt,m(o("select",{class:d(["form-select",t(c).inputClass("brand")]),"onUpdate:modelValue":e[5]||(e[5]=n=>t(s).brand=n)},[st,(p(!0),u(A,null,V(t(U).items,n=>(p(),u("option",{value:n,key:n.id},F(n.name),9,et))),128))],2),[[v,t(s).brand]]),i(t(r),{"property-path":"brand"})])])])])]),o("div",nt,[o("div",lt,[o("div",at,[it,m(o("textarea",{class:d(["form-control",t(c).inputClass("description")]),placeholder:"Mô tả ...",maxlength:"1000","onUpdate:modelValue":e[6]||(e[6]=n=>t(s).description=n)},null,2),[[g,t(s).description]]),i(t(r),{"model-state":t(c),"property-path":"description"},null,8,["model-state"])])])])])])]),o("div",ct,[i(t(I),{callback:H,onSubmissionSuceeded:N})])])]))}}),ft=Z(rt,[["__scopeId","data-v-2e9e46b5"]]);export{ft as default};
